@{
    ViewData["Title"] = "Home - Chas Happenings";
}

<link rel="stylesheet" href="~/css/ai-chat.css" asp-append-version="true" />

<div id="layout">
    <div id="side1"></div>

    <div id="middle-container">
        <!-- CALENDAR (top-left, ~80% width) -->
        <section id="calendar">
            <h2>Loading...</h2>
            <div class="calendar-grid">
                <!-- Calendar will be generated by JavaScript -->
            </div>
        </section>

        <!-- DYNAMIC INFO (top-right, ~20% width) -->
        <section id="dynamic-info">
            <!-- empty for now -->
        </section>

        <!-- AI CHAT SECTION (bottom row, full width) -->
        <section id="article">
            <div class="ai-chat-section">
                <!-- Header -->
                <div class="ai-chat-header">
                    <div class="d-flex align-items-center">
                        <div class="ai-avatar me-3">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div>
                            <h3>AI Event Summarizer</h3>
                            <small>Ask me about upcoming or past events</small>
                        </div>
                    </div>
                </div>

                <!-- Messages -->
                <div class="ai-chat-messages" id="chatMessages">
                    <div class="chat-message bot">
                        <div class="message-avatar">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="message-content">
                            <div class="message-bubble">
                                <p class="mb-2">Hello! 👋 I'm your AI Event Summarizer.</p>
                                <p class="mb-0">Ask me about events happening this week, last week, or any time period!</p>
                            </div>
                            <small class="message-time">Just now</small>
                        </div>
                    </div>
                </div>

                <!-- Footer -->
                <div class="ai-chat-footer">
                    <form id="chatForm" class="d-flex gap-2">
                        <input 
                            type="text" 
                            id="userInput" 
                            class="form-control chat-input-field" 
                            placeholder="Ask about events..." 
                            autocomplete="off"
                            required
                        />
                        <button type="submit" class="chat-send-btn" id="sendBtn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </form>
                    
                    <div class="text-muted small mt-2 text-center">
                        <i class="fas fa-info-circle"></i> GPT 4o
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div id="side2"></div>
</div>

@section Scripts {
    <script src="~/js/calendar.js" asp-append-version="true"></script>
    <script src="~/js/ai-chat.js" asp-append-version="true"></script>
}

